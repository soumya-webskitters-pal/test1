<!DOCTYPE html>
<html lang="en">

<head>
  <!-- Required meta tags -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
  <title>demo</title>
  <!-- <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" /> -->
  <link rel="stylesheet" href="style.css" />
</head>

<body>
  <div style="height: 150vh;background: red;">
    <h1>GAP</h1>
  </div>
  <!-- <div class="how-it-works-main">
    <div class="how-it-works">
      <div class="how-work-upper-hd">
        <div class="how-work-upper-hd-wpr">
          <h2 class="how-works-h2">How it works</h2>
          <ul class="how-work-tab-list">
            <li class="how-work-tab-list-each">
              <a href="#">Step 1</a>
            </li>
            <li class="how-work-tab-list-each">
              <a href="#">Step 2</a>
            </li>
            <li class="how-work-tab-list-each">
              <a href="#">Step 3</a>
            </li>
          </ul>
        </div>
        <img src="https://uploads-ssl.webflow.com/64a3e4220aeee6b1eea85edd/650af0ce228974398734f16c_how-work-back.png"
          alt="" class="how-work-hd-img">
      </div>
      <div class="how-it-works-body">
        <div class="how-it-works-body-each">
          <div class="how-work-body-wpr">
            <div class="box-left">
              <h2>Customize your transcription with audio analytics
                and translation requirements.</h2>
            </div>
            <div class="box-right"><img
                src="https://uploads-ssl.webflow.com/64a3e4220aeee6b1eea85edd/650aefbe7f9d180ec604227b_how-works-1.svg"
                loading="lazy" alt="" class="how-work-main-img">
            </div>
          </div>
        </div>
        <div class="how-it-works-body-each">
          <div class="how-work-body-wpr">
            <div class="box-left">
              <h2>Transcribe your audio content in an instant with
                real-time or file processing.</h2>
            </div>
            <div class="box-right"><img
                src="https://uploads-ssl.webflow.com/64a3e4220aeee6b1eea85edd/650af0304ac129a96a44a6f5_how-works-2.svg"
                alt="" class="how-work-main-img">
            </div>
          </div>
        </div>
        <div class="how-it-works-body-each">
          <div class="how-work-body-wpr">
            <div class="box-left">
              <h2>Explore transcription and audio analytics within the
                VoiceAI platform or integrate directly into any application.</h2>
            </div>
            <div class="box-right"><img
                src="https://uploads-ssl.webflow.com/64a3e4220aeee6b1eea85edd/650af0760a405d2c664c5e02_how-works-3.svg"
                alt="" class="how-work-main-img">
            </div>
          </div>
        </div>
      </div>
      <img src="https://uploads-ssl.webflow.com/64a3e4220aeee6b1eea85edd/650af0ce228974398734f16c_how-work-back.png"
        alt="" class="how-work-back">
    </div>
  </div> -->

  <div class="all_sec">
    <div class="header">
      <ul class="how-work-tab-list">
        <li class="how-work-tab-list-each">
          <a href="#">Step 1</a>
        </li>
        <li class="how-work-tab-list-each">
          <a href="#">Step 2</a>
        </li>
        <li class="how-work-tab-list-each">
          <a href="#">Step 3</a>
        </li>
      </ul>
    </div>

    <div class="all_hero">
      <section id="landing-page" class="hero-story hero hero1">
        <div class="full-col width-100">
          <h1>Landing Screen</h1>
        </div>
      </section>

      <section id="rooms" class="hero-story hero second-hero hero2">
        <div class="left-col width-33">
          <h2>Des chambres pour vous</h2>
        </div>
        <div class="right-col width-66 delayed">
          <h2>Contenu pour les chambres</h2>
        </div>
      </section>

      <section id="you" class="hero-story hero second-hero hero3">
        <div class="left-col width-33 delayed">
          <h2>Contenu gauche pour proche de vous</h2>
        </div>
        <div class="middle-col width-33">
          <h2>Proche de vous</h2>
        </div>
        <div class="right-col width-33 delayed">
          <h2>Contenu droite pour proche de vous</h2>
        </div>
      </section>

      <section id="near" class="hero-story hero second-hero hero4">
        <div class="left-col width-66 delayed">
          <h2>Contenu pour proche de tout</h2>
        </div>
        <div class="right-col width-33">
          <h2>Proche de tout</h2>
        </div>
      </section>
    </div>
  </div>

  <div style="height: 150vh;background: green;">
    <h1>GAP</h1>
  </div>


  <script src="https://code.jquery.com/jquery-3.6.4.min.js" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/gsap.min.js" crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.11.4/ScrollTrigger.min.js"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.8.0/ScrollToPlugin.min.js"></script>
  <script>


    window.addEventListener("load", () => {
      gsap.registerPlugin(ScrollTrigger, ScrollToPlugin);
      // ScrollTrigger.normalizeScroll(true);
      // ScrollTrigger.config({ ignoreMobileResize: true });
      // if ($(".how-it-works-main").length) {
      //   let side_nav = $(".how-work-upper-hd"),
      //     sections = document.querySelectorAll(".how-it-works-body-each"),
      //     pinup = document.querySelector(".how-it-works");
      //   let ht = document.querySelector(".how-work-upper-hd").clientHeight;
      //   gsap.set(sections, {
      //     paddingTop: ht + "px",
      //   });
      //   gsap.set($(".how-it-works-body"), {
      //     marginTop: -ht + "px",
      //     paddingTop: 0,
      //   });
      //   ScrollTrigger.create({
      //     trigger: pinup,
      //     pin: ".how-work-upper-hd",
      //     start: "top top",
      //     end: "bottom bottom",
      //     // markers: true,
      //     pinSpacing: false,
      //   });
      //   ScrollTrigger.create({
      //     trigger: pinup,
      //     start: "top top",
      //     end: "+=" + window.innerHeight * (sections.length - 1),
      //     pin: ".how-work-back",
      //     pinSpacing: false,
      //     // markers: true,
      //   });

      //   const scrolling = {
      //     enabled: true,
      //     events: "scroll,wheel,touchmove,pointermove".split(","),
      //     prevent: (e) => e.preventDefault(),
      //     disable() {
      //       if (scrolling.enabled) {
      //         scrolling.enabled = false;
      //         window.addEventListener("scroll", gsap.ticker.tick, {
      //           passive: true,
      //         });
      //         scrolling.events.forEach((e, i) =>
      //           (i ? document : window).addEventListener(e, scrolling.prevent, {
      //             passive: false,
      //           })
      //         );
      //       }
      //     },
      //     enable() {
      //       if (!scrolling.enabled) {
      //         scrolling.enabled = true;
      //         window.removeEventListener("scroll", gsap.ticker.tick);
      //         scrolling.events.forEach((e, i) =>
      //           (i ? document : window).removeEventListener(e, scrolling.prevent)
      //         );
      //       }
      //     },
      //   };
      //   function goToSection(section, anim, i) {
      //     if (scrolling.enabled) {
      //       scrolling.disable();
      //       gsap.to(window, {
      //         scrollTo: { y: section, autoKill: false },
      //         onComplete: scrolling.enable,
      //         duration: 1,
      //       });
      //       anim && anim.restart();
      //       // console.log(">>>>", i);
      //       side_nav.find("li").removeClass("active");
      //       side_nav.find("li").eq(i).addClass("active");
      //     }
      //   }
      //   sections.forEach((section, i) => {
      //     const intoAnim = gsap.from(
      //       section.querySelector(".how-work-body-wpr"),
      //       {
      //         delay: 0.5,
      //         opacity: 0,
      //         duration: 1,
      //         paused: true,
      //       }
      //     );
      //     ScrollTrigger.create({
      //       trigger: section,
      //       start: "top bottom-=1",
      //       end: "bottom top+=1",
      //       onEnter: () => goToSection(section, intoAnim, i),
      //       onEnterBack: () => goToSection(section, "", i),
      //     });
      //   });
      //   side_nav.find("li").on("click", function (e) {
      //     e.preventDefault();
      //     if (!$(this).hasClass("active")) {
      //       let ofst = $(pinup).offset().top;
      //       let y = Math.round(
      //         ofst + window.innerHeight * Number($(this).index())
      //       );
      //       $("html, body").animate({ scrollTop: y });
      //       side_nav.find("li").removeClass("active");
      //       $(this).addClass("active");
      //     }
      //   });
      // }

      const sections = document.querySelectorAll("section");
      var side_nav = $(".header"),
        pinup = document.querySelector(".all_sec");
      let ht = document.querySelector(".header").clientHeight;
      gsap.set(sections, {
        paddingTop: ht + "px",
      });
      gsap.set($(".all_hero"), {
        marginTop: -ht + "px",
        paddingTop: 0,
      });

      const scrolling = {
        enabled: true,
        events: "scroll,wheel,touchmove,pointermove".split(","),
        prevent: e => e.preventDefault(),
        disable() {
          if (scrolling.enabled) {
            scrolling.enabled = false;
            window.addEventListener("scroll", gsap.ticker.tick, { passive: true });
            scrolling.events.forEach((e, i) => (i ? document : window).addEventListener(e, scrolling.prevent, { passive: false }));
          }
        },
        enable() {
          if (!scrolling.enabled) {
            scrolling.enabled = true;
            window.removeEventListener("scroll", gsap.ticker.tick);
            scrolling.events.forEach((e, i) => (i ? document : window).removeEventListener(e, scrolling.prevent));
          }
        }
      };
      function goToSection(section, anim, i) {
        if (scrolling.enabled) {
          scrolling.disable();
          gsap.to(window, {
            scrollTo: { y: section, autoKill: false },
            onComplete: scrolling.enable,
            duration: 1
          });

          anim && anim.restart();
          side_nav.find("li").removeClass("active");
          side_nav.find("li").eq(i).addClass("active");
          $(sections).removeClass("active");
          $(section).addClass("active");
        }
      }
      sections.forEach((section, i) => {
        const intoAnim = gsap.from(section.querySelector(".right-col"), { yPercent: 50, duration: 1, paused: true });
        ScrollTrigger.create({
          trigger: section,
          start: "top bottom-=1",
          end: "bottom top+=1",
          onEnter: () => goToSection(section, intoAnim, i),
          onEnterBack: () => goToSection(section, intoAnim, i)
        });
      });

      ScrollTrigger.create({
        trigger: pinup,
        pin: side_nav,
        start: "top top",
        end: "bottom bottom",
        // markers: true,
        pinSpacing: false,
      });
      side_nav.find("li").on("click", function (e) {
        e.preventDefault();
        if (!$(this).hasClass("active")) {
          let ofst = $(pinup).offset().top;
          let y = Math.round(
            ofst + window.innerHeight * Number($(this).index())
          );
          $("html, body").animate({ scrollTop: y });
          side_nav.find("li").removeClass("active");
          $(this).addClass("active");
        }
      });

    });
  </script>
</body>

</html>